<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <title>schwartz.world - Prefer Cli Over Packages</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <link rel="alternate" type="application/rss+xml"
          href="/blog/rss.xml" title="RSS feed for My Page">
    <link rel="manifest" href="../site.webmanifest">
    <link rel="apple-touch-icon" href="../icon.png">
    <link rel="stylesheet" href="/blog/css/main.css">
    <!-- Place favicon.ico in the root directory -->
    <style>
        body {
            background: lightsalmon;
            color: darkslateblue;
            max-width: 600px;
            margin: auto;
            padding: 0 2rem;
        }
        nav {
            display: flex;
            align-items: center;
        }
        small {
            display: block;
        }
        .navlink {
            display: inline-block;
            height: 2rem;
        }
        .icon {
            height: 1rem;
            width: 1rem;
        }
        #meta {
            display: none;
        }
        img {
            max-width: 100%;
        }
        nav {
            display: flex;
            align-items: center;
        }
        .navlink {
            display: inline-block;
            height: 2rem;
        }
        .icon {
            height: 1rem;
            width: 1rem;
        }
        .comment{
            list-style: none;
        }
        .gravatar {
            height: 2rem;
            width: 2rem;
        }
        pre {
            width: 100%;
        }
        code {
            background: rgba(240, 255, 143, 0.05);
        }
    </style>

</head>

<body>
<h1><a href="/">Schwartz.World!</a></h1>
<script>
    const maddie = `
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkkkkOOkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkxxxxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkkkkOkOkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkxxxxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkkOOOOkkkkkkOOkkkOOOOOOOkOOkkkOOkkkkkxddxxxkkkkkkkkkkkkkkkkkkkkkkkkkkkkxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkOOOOOkxddoollooodxkO0KK0Okdl;,'',,;:cldxkkkkkkkkkkkkkkkkkkkkkkkkkxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkxolc:;;;;cldxxO0KKKKK0kdl;,...........,:coxkkkkkkkkxxxxxxxkkkkkxkkxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkOOOOOOOOOOkdoc:;;;:cldxO0KKKXXXKK0Oxoc;,.................';:ccllc:;,,;cccllllloooddxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkxlc:;:cldxO00KKXXXXXXXKKOxoc;,'.......................................''''',:ldxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkdc;;coxkO0KKKKXXXXXXXXK0kxo:;,''.....................................'''''......,cdxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkoc;:cdOKXXXXXXXXXXXXXX0Okoc:,,'....................................',,,''',,,'......:dxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOxo:::ldOKXXXXXXNNNNXXXKK0dlc;,'.....................................',;;;,''............cdxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOko::cldk0XNNNNNNNNNNXXXXKOdc;;''......................................''''.''.............,oxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOxlcclodkKXXNNNNNNNNNNXXK0kdc:;,,,'..........................................................lxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOxdddddk0KXNNNNNNNNNNNXKKOkxdlcc::::;''.......................................................:dxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkxkOkk0XXXXNNNNNNNNNNXKOxdoooooollcc;,,'................................. ....................,oxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOkkkkOkkOKKKXXXXXXNNNNNNNNNX0kdoc::clooolllc:,'............................      ....................,oxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkxxkO0KXNNNXXXNNNNNNNNNXKOdl:,,;:cccccclllc;,,'.........................   ...   .................,oxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOdlok0KXNNNNXNNNNNNNNNNXKOxoc;,,,,,,,,,',,,,,,,','......................    .       ...............'lxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkl;:d0XXNNNNNNNNNNNNXXKKOxo:;'......'''......'''''........    ............      ...  ...............cxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOd:,lkKXNNNXNNNNNNNK00OOdc;'.....,'.........................  ...... ...       ..;. ................:dx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOx:';d0XNNXXNNNNNXKOkkkdc'.................................  ...........       .'ll;'...............cxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOxc,:d0XXXXNNNXNXKOxxxdl;...................';;;'........... ..........       ..,ldxxdolc;,'.......:dxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkc;oOXXK0XNNXXXKOxxxxo:,.................',;:,'.......................     ..'',;lxxxxxxxxdolc:;:ldxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkllOXNXKXNXXXKKOxxxxoc;;,'......'',,,,;;;;:,'.........................    .',;;;;:oxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOkk0XXXKXXXK000Oxoddolc:::::;;::::ccc:::;,''................ ........... ..',;;;;::lxkxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOkkkkOKXXKKXXXX0OOkOkddolllccc:::cccc::;;,''................... ...............',;;,,::coxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOOOOkOKXXXKXXXK0OOOOOOkdlccllccc:::;;;,''''....................................',;;;,;::clxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOkOOkkO0KXXKKK000OkkOkxkkxlccccc::::;,,'''....................  ................,,;;;;;:::clxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOOkkO00OO00000OOkkOkdloddlcllcc:::;;,''''..................   ................',,;;;;:::::ldxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOOOOOkO00OxxxkO0OOkxxkkxlcooollllccc:::;,''',,,,,'''..........       ............',,,,;;;:::::lxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOOkkOOO00kxxkkO000OOkxdolc:loodollllllcc:,,,;:::;,''............        ..........,;;;;,,;;::::oxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOOkkkO00OkkkkkO0000Okdocc::cloddollllllllc:;::c::;,'.............   .  . .........,;;;;;,,;::::coxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOOkkOOOOkxxxxxxk00Oxdlcc::::cllolllc:::ccccc:::c:;;'....................... ......,;;;;;;,;;::::coxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOkkO00kxddxddddddxxdlccclc:ccllllcccc:;;;::ccccc:;,,'''................  ........',;;,,;:;;;;::;;cdxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOkOO00Okkxxddolllccc::::clccccccc::::::;;,;:c:;;,,'''''''''''..........    .....',,;,,,,;:;;;::;;;oxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOOOOOOO000Okolllll:;;;;,,,;::::::;;,,,;:::;;;;:;,'..''''''''',,,''''............'',,,,'''',;;;,;::;;cdxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOOOO0kxxO0Okxoc:colc:;;;;;,,;:::::;;,,,,;:::;;;;:;,''''',,,,,,,;;;,''........'',,,,,,,,,''',;;;,;;;;::cdxxxxxxxxxxxxxxxxxxx
OOOOOOOOOOOkdddddddolccccloool;;:;;;;::c:::;;;;;;;:::;;;:::;;,,,,,,,;;;;;;;;,',,,,'',,,,,,,,,,,'''',,,;;,,;;;;::ldxxxxxxxxxxxkkkkxxxx
OOOOOOOOkxoc::llccc::::cooc:c:,,;;;;::::::;;:::::::::;;::::;,,,,;;;;;;::::;;;;;;;;;,,,,,,,,,,,''',,,'',,',,,,;::lxkkkkkkkkkkkkkkkkkkk
kkOOkxdl:;,,,,,,'',;;;;;::;,,,',;;;;::::::::::::::::::::::;;,,;;,,;;;;;:::;::;;;;;,,,,,,,,,,,''',,'''','',,,;;::oxkkkkkkkkkkkkkkkkkkk
oool:,''''.........'','.....''',,;::ccc:::::;:::::;;;;:::;;,,,,,''',,;;:::::;;;;;,,,;;;;;,,'''''.....',,',,;;;:coxkkkkkkkkkkkkkkkkkkk
::;,'''......................'',;;;:::::;;;;;;;;;;;;;;;:;;;,,,'..''',:::::;;;;;;,,,,,,,,,,'''''.....'',''',;;::coxkkkkkkkkkkkkkkkkkkk
;,,,,;;,'...................''',,,;;;;;;;,,,;;;;;;;;;;;;,,''''',,;;:ccc::;;,,,,,,,,,,,,''''''''''''''','',,;:::coxxkkkkkkkkkkkkkkkkkk
;..''',,'...................',,,,,,;,,,;;,;;;;;;;;;:;;,'...',,;:clooddol:;;,,'''''',,,,'''''''''''''',,,,,;;:;:coxxxxxkkkkkkkkkkkkkkk
l;'........................'',,,,,,,,,,,,,;;;;;;;;;;,'''',,;:coddxxxxddolc;;,''...''''''''''''',,,,,,,',,,;;;;::ldxxxxxxxxxxxxxxxxxxx
ol:,......................'''''''''',,,,,,,;;;;;;;,,,;;:cloxkOkkxxxxxddooll:,''.....''',,,,,''''''''',,,,;;;;;::ccoxxxxxxxxxxxxxxxxxx
lllc,........................''''''''',,,,,,;;;;;;;:cldkOkk0000Okkxxddddddoc;,''.....''',,,''''''''',,,,;;;;;;::::codxxxxxxxxxxxxxxxx
llccc,..........................''''''''',,,,,,;:coxO0KK0Okk0KK0Oxdddddxxxdl:,,'''.....''','''''''',,,,,;;;;;;::::::ldxxxxxxxxxxxxxxx
llcccc;,''......................''''........';:ldk00000KKK0000K0kxddddddxxdl:;;,,'........''''''''',,,,,,,,,;;:::::::oxxxxxxxxxxxxxxx
lllcccccccc:::c::;;::,..................'',;:oO000OOOO00KKKK00O0Okxxxdddddolc:;;;,'.........'''''''',,,,,,;,,;::::::;cdxxxxxxxxxxxxxx
oolccccccccclloolcccc:,'..........'',,;::::::oOKK0OkOOOOkO0K000000OOxollooolc::;;;,''''......''''''',,;;,,;,,;;;:::;;:ldxxxxxxxxxxxxx
llccccccccllooollccc:;;,,:cc::;;;::::cccc:;;;:o0XK0O0OkxxdxO00K00000kdoooooollc::;;;,;;;,'''''''''''',;;;;;;;;;;::;;;;:ldxxxxxxxxxxxx
lccccccccllooollcccc:;,';cllcccclooolclooc;;;,;dKXKK0K0kxxkkOO0KKKK0Okddoloolllc:;;clccc:;,,,,'''''..',;;;;;;;:::;;,,;;coxxxxxxxxxxxx
ccccccccllooolcccccc:,',:lllcccclooolclool:;,,,:d0XKKKK0Okkkkkk0000K00kddddoollc:::coollcc:;,'''...''',;;;,,;:::;;;;,;;:cdxxxxxxxxxxx
cccccccclooollccccc::,',:llcccccloolccloooc;,,,,;oOKK0KK0OkkkkkkkOOOO0Oxxxddolc:::;:cclllc:;,'''...'',,,;,,,;::;;;,,,,;:cldxxxxxxxxxx
cccccccclooollccccc:;,',cllcccccclllccloool:;;,,,;cdO0KK0000O0OOkxxxxkkxxxxdollccl:;;::clc:;,'''''',,;,,,,,,;;;;,,,,,,;::coxxxxxxxxxx
cccccccclooollccccc:;,';cllccccccccccclodool:;;;;,,;cxO0000KKK000OOkxdxxxdddoollllc;,;;;:::;;,,,,,,,;,''',,,,,,,,,,,;;::ccldddddddddd
lllccccclllllcllllc::;,,cllcccccccccccloooool:;;;,,,,:okO0KKKK000000kddddooddoccclc;,,,,,::;;,,,,,,,,'...''''',,''',,;;::cccloooooooo
ooolccccccccccloolcc:;,,:llcllcccccccccccllooc;;,,,,,,;lx0KKK0000000kxddolllolc:clc;,,,',;:;;,,'',,,'......'',,,,''',,,;:::,;:ccccccc
ooolccccccccccloolcc:;,,;:clllcccccccccccccccc:;,,,,,,,,:lxO00000OOOxoooolccc:;;:::;,,',,;;;;;,,','''...''',,;;;;;,,,;,,;::'.,;:;::::
`;
    console.log(maddie);

    function parseMarkdown(markdownText) {
        const htmlText = markdownText
            .replace(/^### (.*$)/gim, '<h3>$1</h3>')
            .replace(/^## (.*$)/gim, '<h2>$1</h2>')
            .replace(/^# (.*$)/gim, '<h1>$1</h1>')
            .replace(/^\> (.*$)/gim, '<blockquote>$1</blockquote>')
            .replace(/\*\*(.*)\*\*/gim, '<b>$1</b>')
            .replace(/\*(.*)\*/gim, '<i>$1</i>')
            .replace(/!\[(.*?)\]\((.*?)\)/gim, "<img alt='$1' src='$2' />")
            .replace(/\[(.*?)\]\((.*?)\)/gim, "<a href='$2'>$1</a>")
            .replace(/\n$/gim, '<br />')

        return htmlText.trim()
    }

    const toRealUrl = (url = '') => {
        const [_, slug] = url.split('repos');
        return `https://github.com${slug.replace('comments', '')}`;
    }
</script>
<nav>
    <ul>
        <li class="navlink"><a href="/">home</a></li>
        <li class="navlink"><a href="/blog">blog</a></li>
        <li class="navlink"><a href="/faq">faq</a></li>
        <li class="navlink">
            <a type="application/rss+xml" href="/blog/rss.xml">
                <img class='icon' src="/img/feed.png" alt="">
            </a>
        </li>
    </ul>
</nav>

<main>
    <div class="title">
        <h2>Prefer Cli Over Packages</h2>
        
            <small><b>Created:</b> Thu Mar 04 2021 19:55:36 GMT-0500 (Eastern Standard Time)</small>
        
        
        


    </div>
    <section id="main"><p>Anybody who knows me and talks tech with me will know that I prefer not to write ReactJS code outside of work. This isn’t because I don’t like React. On the contrary, I really like it. Part of how I’m able to stay so productive at work, despite the challenges of children, sleep debt and general Covid-era stress, is that I’m really used to React. I have internalized enough of the paradigms to where I don’t really worry about <em>whether</em> I’ll be able to build something, but I can actually enjoy picking the paradigm that suits my <del>mood</del> <ins>use case</ins>.</p>
<p>I don’t write React outside of work because I’ve gotten too opinionated about it. The <em>way</em> I write React isn’t compatible with the quick, hacky programs I like to put together in my free time. I seek novelty in my hobby programming to make up for the repetitive nature of professional development. So I switch it up.</p>
<p>The thing about switching it up, is that every ecosystem is different, and it can be really tiring having to learn new ways of doing <em>everything</em>. Take databases as an example. I use <code>sqlite3</code> on most projects because it’s simple, and the single file database format is really easy to backup (just include it in version control or even email the file to yourself). I don’t know if I’d use this strategy for everything, but it works for most things. I’d like to emphasize that this is probably a terrible idea for enterprise code.</p>
<p><code>node</code> is the backend I use when I care about speed of development. I write JS every day (well, TypeScript), so I can get from idea to viable program pretty quickly. So, what are my options here for interacting with an <code>sqlite3</code> database in <code>nodeJS</code>? There are a few NPM packages available that present a JS wrapper around the <code>sqlite3</code> API, each with different API decisions. One uses callbacks, another <code>async/await</code>, another wraps the callback-based one with promises. Am I going to take the time to audit those dependencies? Can I even get them to install?</p>
<p>More importantly, does it actually simplify anything to access <code>sqlite3</code> using one of these dependencies? Does it make it easier for me? Do I need everything these packages provide?</p>
<p>Instead, my strategy for <code>sqlite3</code> has been to use <a href="https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback">child_process.exec</a> to make DB calls to the command line.</p>
<h3 id="portability-of-code">Portability of Code</h3>
<p>I don’t always write <code>node</code>. I sometimes like Rust and Ruby and Python and Lua and zsh. The first problem with using a package as described above is that I may not even have access to packages to support my use case. Lua packages are a mess. Rust crates are easy to install, but many are immature. Besides all that, each package requires learning its unique API in a language you may or may not be confident in writing. Sure, I can grok well-written JS docs or even dive into source code, but I don’t know if I can do that in a language I only dabble in. By relying on <code>sqlite3</code> directly, I remove the mental overhead of this one thing. Learn it once, use it everywhere. You probably don’t even have to install it on your machine, because it is used everywhere!</p>
<h3 id="unchanging-api">Unchanging API</h3>
<p>It is extremely unlikely that the <code>sqlite3</code> command line tools will change much in their usage. The same cannot often be said for language-level packages.</p>
<h3 id="crafting-abstractions-is-the-fun-part">Crafting Abstractions is the Fun Part</h3>
<p>You could just write simple functions that make SQL queries, but it’s more fun to come up with your own API. <code>sqlite3</code> can be extended to output JSON, meaning you probably don’t need much glue to make it work in almost any programming environment, so you might as well create something that you can take with you from project to project.</p>
<h3 id="you-should-be-using-an-orm">You Should Be Using An ORM!</h3>
<p>Should I though? It’s useful for projects of a certain size, but simple relationships are easy to model in SQL, and with an ORM you have a whole new abstraction layer to learn. I never really grokked the Django ORM when I had to work with it. ActiveRecord is amazing but probably overkill for your <code>todo</code> app.</p>
</section>
    <section id="comments">
        
    </section>
</main>
</body>

</html>
